<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>8af88bd8ab42499c82134811c8859eff</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown" id="pRRU08lsxtmF">
<p>In this report, we will analyse the Twitter data of Elon Musk's
Twitter channel to extract insights and identify patterns in the tweets.
We will use various data mining and machine learning techniques to
perform sentiment analysis, feature engineering, and predictive
modelling on the Twitter data to provide actionable insights for the
owner of the Twitter channel. The insights gained from this analysis can
help the owner of the Twitter channel to understand their audience,
create better content, and increase engagement with their followers.</p>
</div>
<div class="cell code" data-execution_count="1" id="P7vl24Sc7GBj">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#IMPORTING ALL NECESSARY LIBRARIES</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> string</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk </span></code></pre></div>
</div>
<div class="cell code" data-execution_count="3"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="nW9UUTow4jET" data-outputId="bd332c66-1b2f-4fca-e6f8-d22d1f5851e2">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google.colab <span class="im">import</span> drive</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>drive.mount(<span class="st">&#39;/content/drive&#39;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Mounted at /content/drive
</code></pre>
</div>
</div>
<div class="cell markdown" id="Ctn2BOt4403T">
<p>LOADING THE ELON MUSK TWEETS DATASET</p>
</div>
<div class="cell code" data-execution_count="4"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="aLVR9-GhFYDQ" data-outputId="f9ce7937-2d9b-46fd-c6e2-d9477af8bd5b">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">&#39;/content/drive/My Drive/Colab Notebooks/Elon_Musk_Tweet.csv&#39;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="4">

  <div id="df-dc37b456-67bc-4e23-887f-c10f7beafd98">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tweets</th>
      <th>Retweets</th>
      <th>Likes</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>@PeterSchiff ðŸ¤£ thanks</td>
      <td>209</td>
      <td>7021</td>
      <td>27/10/2022 16:17</td>
    </tr>
    <tr>
      <th>1</th>
      <td>@ZubyMusic Absolutely</td>
      <td>755</td>
      <td>26737</td>
      <td>27/10/2022 13:19</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Dear Twitter Advertisers https://t.co/GMwHmInPAS</td>
      <td>55927</td>
      <td>356623</td>
      <td>27/10/2022 13:08</td>
    </tr>
    <tr>
      <th>3</th>
      <td>@BillyM2k ðŸ‘»</td>
      <td>802</td>
      <td>19353</td>
      <td>27/10/2022 02:32</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Meeting a lot of cool people at Twitter today!</td>
      <td>9366</td>
      <td>195546</td>
      <td>26/10/2022 21:39</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-dc37b456-67bc-4e23-887f-c10f7beafd98')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-dc37b456-67bc-4e23-887f-c10f7beafd98 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-dc37b456-67bc-4e23-887f-c10f7beafd98');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell code" data-execution_count="5"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="wtNLjpYT3P3c" data-outputId="f6453fde-2fc4-43c0-d914-29ece949c03e">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 3060 entries, 0 to 3059
Data columns (total 4 columns):
 #   Column    Non-Null Count  Dtype 
---  ------    --------------  ----- 
 0   Tweets    3060 non-null   object
 1   Retweets  3060 non-null   int64 
 2   Likes     3060 non-null   int64 
 3   Date      3060 non-null   object
dtypes: int64(2), object(2)
memory usage: 95.8+ KB
</code></pre>
</div>
</div>
<div class="cell markdown" id="q4YZOh0KFpQX">
<p>Data Pre-processing</p>
<ol>
<li>All twitter handle mentions (@username) were removed.</li>
<li>Punctuations were removed.</li>
<li>Emojis/images were removed.</li>
<li>URLs were removed.</li>
<li>Number of hashtags in each tweet were counted.</li>
<li>Stop words were handled by removing commonly used English stop
words.</li>
<li>The remaining words were tokenized.</li>
<li>Features were extracted from the dataset to enhance visualisation,
such as the number of likes, and retweets, and the timestamp for each
tweet.</li>
<li>Timestamps were converted to month, day of week and time of
day.</li>
</ol>
<p>Data Analysis</p>
<ul>
<li>Basic statistical observations were made, including the frequency of
tweets, and the average number of likes and retweets over time.</li>
<li>Mean likes, and retweets were plotted and grouped by month, day, and
time of day for the tweets.</li>
<li>Sentiment scores were calculated for each tweet using a pre-trained
sentiment analysis model using the â€˜nltkâ€™ library in Python.</li>
<li>A word cloud was created to display the most popular words contained
in the tweets in the data set.</li>
<li>Top 5 tweets with the most likes were selected for sentiment
analysis, and the findings were discussed.</li>
<li>Concordance and collocations were extracted.</li>
<li>Three different machine learning algorithms were trained on the data
to predict the number of likes a tweet is likely to get, and their
accuracy was compared.</li>
<li>The results of the statistical observations, sentiment analysis, and
machine learning models were presented and discussed.</li>
<li>Topic modelling was performed using LDA (Latent Dirichlet
Allocation) to determine which topics were talked about the most.</li>
<li>Observations from the data were highlighted, including the most
popular topics, sentiment trends, and the impact of various features on
the number of likes a tweet receives.</li>
</ul>
</div>
<div class="cell code" data-execution_count="6" id="Q2FzVJ8EHJeq">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># defining function which removes pattern in the input text</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> remove_pattern(input_txt, pattern):</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> re.findall(pattern, input_txt)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> word <span class="kw">in</span> r:</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        input_txt <span class="op">=</span> re.sub(word, <span class="st">&quot;&quot;</span>, input_txt)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> input_txt</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="7" id="hqz29Eay5vIM">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove twitter handles (@user) and URLs</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;clean_tweet&#39;</span>] <span class="op">=</span> np.vectorize(remove_pattern)(df[<span class="st">&#39;Tweets&#39;</span>], <span class="st">&quot;@[\w]*|http\S+&quot;</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="8" id="4bu3Ri-mJrxN">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define a function to extract hashtags from a tweet</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_hashtags(tweet):</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    hashtags <span class="op">=</span> re.findall(<span class="vs">r&#39;#\w+&#39;</span>, tweet)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> hashtags</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># apply the function to each tweet in the &#39;tweet&#39; column</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;hashtags&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">apply</span>(extract_hashtags)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new dataframe to store the count of each hashtag</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>hashtags_df <span class="op">=</span> pd.DataFrame(df[<span class="st">&#39;hashtags&#39;</span>].explode().value_counts())</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># rename the column to &#39;count&#39;</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>hashtags_df.rename(columns<span class="op">=</span>{<span class="st">&#39;hashtags&#39;</span>: <span class="st">&#39;count&#39;</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co"># reset the index so that the hashtags become a column</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>hashtags_df.reset_index(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># rename the column to &#39;hashtag&#39;</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>hashtags_df.rename(columns<span class="op">=</span>{<span class="st">&#39;index&#39;</span>: <span class="st">&#39;hashtag&#39;</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co"># merge the hashtag counts back into the original dataframe</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;hashtags&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;hashtags&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">&#39; &#39;</span>.join(x))</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>hashtags_df[<span class="st">&#39;hashtag&#39;</span>] <span class="op">=</span> hashtags_df[<span class="st">&#39;hashtag&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="st">&#39; &#39;</span>.join(x))</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.merge(hashtags_df, how<span class="op">=</span><span class="st">&#39;left&#39;</span>, left_on<span class="op">=</span><span class="st">&#39;hashtags&#39;</span>, right_on<span class="op">=</span><span class="st">&#39;hashtag&#39;</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co"># fill missing values in the &#39;count&#39; column with 0</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;count&#39;</span>].fillna(<span class="dv">0</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="co"># drop the &#39;hashtag&#39; column</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>df.drop(columns<span class="op">=</span><span class="st">&#39;hashtag&#39;</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
</div>
<div class="cell markdown" id="viENc5ICuD8r">
<p>It was found that there are NO hashtags in any tweets in the dataset.
Proceeding to remove punctuations, and emojis from the tweets.</p>
</div>
<div class="cell code" data-execution_count="9" id="JPI-B9fEHP54">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define function to remove punctuations</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> remove_punctuation(text):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    translator <span class="op">=</span> <span class="bu">str</span>.maketrans(<span class="st">&#39;&#39;</span>, <span class="st">&#39;&#39;</span>, string.punctuation)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> text.translate(translator)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="10" id="gJIWKaA7LO3Z">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove punctuations from clean_tweet column</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;clean_tweet&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">apply</span>(remove_punctuation)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="11"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="K3NN48HdOpuY" data-outputId="246d2ef8-0ac2-4a4b-9e91-80d115a33b48">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="11">

  <div id="df-5ae7e44f-a4f7-4154-a751-5530035b08fd">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tweets</th>
      <th>Retweets</th>
      <th>Likes</th>
      <th>Date</th>
      <th>clean_tweet</th>
      <th>hashtags</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>@PeterSchiff ðŸ¤£ thanks</td>
      <td>209</td>
      <td>7021</td>
      <td>27/10/2022 16:17</td>
      <td>ðŸ¤£ thanks</td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>@ZubyMusic Absolutely</td>
      <td>755</td>
      <td>26737</td>
      <td>27/10/2022 13:19</td>
      <td>Absolutely</td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Dear Twitter Advertisers https://t.co/GMwHmInPAS</td>
      <td>55927</td>
      <td>356623</td>
      <td>27/10/2022 13:08</td>
      <td>Dear Twitter Advertisers</td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>@BillyM2k ðŸ‘»</td>
      <td>802</td>
      <td>19353</td>
      <td>27/10/2022 02:32</td>
      <td>ðŸ‘»</td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Meeting a lot of cool people at Twitter today!</td>
      <td>9366</td>
      <td>195546</td>
      <td>26/10/2022 21:39</td>
      <td>Meeting a lot of cool people at Twitter today</td>
      <td></td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-5ae7e44f-a4f7-4154-a751-5530035b08fd')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-5ae7e44f-a4f7-4154-a751-5530035b08fd button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-5ae7e44f-a4f7-4154-a751-5530035b08fd');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell code" data-execution_count="12" id="HB2tvDvKOvc9">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define function to remove emojis</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> remove_emoji(text):</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    emoji_pattern <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">&quot;[&quot;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U0001F600</span><span class="st">-</span><span class="ch">\U0001F64F</span><span class="st">&quot;</span>  <span class="co"># emoticons</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U0001F300</span><span class="st">-</span><span class="ch">\U0001F5FF</span><span class="st">&quot;</span>  <span class="co"># symbols &amp; pictographs</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U0001F680</span><span class="st">-</span><span class="ch">\U0001F6FF</span><span class="st">&quot;</span>  <span class="co"># transport &amp; map symbols</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U0001F1E0</span><span class="st">-</span><span class="ch">\U0001F1FF</span><span class="st">&quot;</span>  <span class="co"># flags (iOS)</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U00002500</span><span class="st">-</span><span class="ch">\U00002BEF</span><span class="st">&quot;</span>  <span class="co"># chinese char</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U00002702</span><span class="st">-</span><span class="ch">\U000027B0</span><span class="st">&quot;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U00002702</span><span class="st">-</span><span class="ch">\U000027B0</span><span class="st">&quot;</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U000024C2</span><span class="st">-</span><span class="ch">\U0001F251</span><span class="st">&quot;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U0001f926</span><span class="st">-</span><span class="ch">\U0001f937</span><span class="st">&quot;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\U00010000</span><span class="st">-</span><span class="ch">\U0010ffff</span><span class="st">&quot;</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\u2640</span><span class="st">-</span><span class="ch">\u2642</span><span class="st">&quot;</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\u2600</span><span class="st">-</span><span class="ch">\u2B55</span><span class="st">&quot;</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\u200d</span><span class="st">&quot;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\u23cf</span><span class="st">&quot;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\u23e9</span><span class="st">&quot;</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\u231a</span><span class="st">&quot;</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\ufe0f</span><span class="st">&quot;</span>  <span class="co"># dingbats</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>                               <span class="st">u&quot;</span><span class="ch">\u3030</span><span class="st">&quot;</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;]+&quot;</span>, flags<span class="op">=</span>re.UNICODE)</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> emoji_pattern.sub(<span class="vs">r&#39;&#39;</span>, text)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="13" id="a5vCi7_NikMY">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove emojis from text in &#39;clean_tweet&#39; column and store in a new column</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;clean_tweet&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">apply</span>(remove_emoji)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="14"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="X5uYkll-iuuX" data-outputId="f8ddeb79-dc77-4926-b59f-bfdf2d272972">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="14">

  <div id="df-cf3a12b7-5582-435b-9d3c-2a6c53e0f210">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tweets</th>
      <th>Retweets</th>
      <th>Likes</th>
      <th>Date</th>
      <th>clean_tweet</th>
      <th>hashtags</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>@PeterSchiff ðŸ¤£ thanks</td>
      <td>209</td>
      <td>7021</td>
      <td>27/10/2022 16:17</td>
      <td>thanks</td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>@ZubyMusic Absolutely</td>
      <td>755</td>
      <td>26737</td>
      <td>27/10/2022 13:19</td>
      <td>Absolutely</td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Dear Twitter Advertisers https://t.co/GMwHmInPAS</td>
      <td>55927</td>
      <td>356623</td>
      <td>27/10/2022 13:08</td>
      <td>Dear Twitter Advertisers</td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>@BillyM2k ðŸ‘»</td>
      <td>802</td>
      <td>19353</td>
      <td>27/10/2022 02:32</td>
      <td></td>
      <td></td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Meeting a lot of cool people at Twitter today!</td>
      <td>9366</td>
      <td>195546</td>
      <td>26/10/2022 21:39</td>
      <td>Meeting a lot of cool people at Twitter today</td>
      <td></td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-cf3a12b7-5582-435b-9d3c-2a6c53e0f210')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-cf3a12b7-5582-435b-9d3c-2a6c53e0f210 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-cf3a12b7-5582-435b-9d3c-2a6c53e0f210');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="dxTE1Lu6uQcU">
<p>Dropping all tweets which are empty after removal of emojis, URLs,
mentions.</p>
</div>
<div class="cell code" data-execution_count="15" id="5mMi_GE7iw8n">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove rows where the tweet is an empty string or blank</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.loc[df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">str</span>.strip() <span class="op">!=</span> <span class="st">&#39;&#39;</span>]</span></code></pre></div>
</div>
<div class="cell markdown" id="LWrq5kd-uYgp">
<p>Tokenizing the cleaned tweets.</p>
</div>
<div class="cell code" data-execution_count="16"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="AjiAHwmekemH" data-outputId="f7c46540-fe82-4d47-c8a8-eb0f1e8ea684">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenize text in &#39;clean_tweet&#39; column and store in a new column</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.tokenize <span class="im">import</span> word_tokenize</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">&#39;punkt&#39;</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;tokenized_tweet&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">apply</span>(word_tokenize)</span></code></pre></div>
<div class="output stream stderr">
<pre><code>[nltk_data] Downloading package punkt to /root/nltk_data...
[nltk_data]   Unzipping tokenizers/punkt.zip.
</code></pre>
</div>
</div>
<div class="cell markdown" id="vsl3uBGGueZB">
<p>Further checking for any non alphabetical characters in the tweets
and removing them.</p>
</div>
<div class="cell code" data-execution_count="17" id="nPOfex3mn8AF">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define function to remove non-alphabetical words</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> remove_non_alpha(words):</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [word <span class="cf">for</span> word <span class="kw">in</span> words <span class="cf">if</span> word.isalpha()]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="18" id="nmUt_uDxoWaX">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove non-alphabetical words from the tokenized_tweet column</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;tokenized_tweet&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;tokenized_tweet&#39;</span>].<span class="bu">apply</span>(remove_non_alpha)</span></code></pre></div>
</div>
<div class="cell markdown" id="Ep4srbxmuj_G">
<p>Removing Stop-Words from the tweets to improve the analysis.</p>
</div>
<div class="cell code" data-execution_count="19"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="SwEImwLw5x9P" data-outputId="e7270aa7-03ea-49b3-a454-62cff8cf3da9">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove stop words from the tokenized tweets</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">&#39;stopwords&#39;</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> stopwords</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># remove stop words from tokenized_tweet column</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>stop_words <span class="op">=</span> <span class="bu">set</span>(stopwords.words(<span class="st">&#39;english&#39;</span>))</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;tokenized_tweet&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;tokenized_tweet&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: [word <span class="cf">for</span> word <span class="kw">in</span> x <span class="cf">if</span> word.lower() <span class="kw">not</span> <span class="kw">in</span> stop_words])</span></code></pre></div>
<div class="output stream stderr">
<pre><code>[nltk_data] Downloading package stopwords to /root/nltk_data...
[nltk_data]   Unzipping corpora/stopwords.zip.
</code></pre>
</div>
</div>
<div class="cell markdown" id="aLf7dIDquryv">
<p>Converting the timestamp of the tweet into month,day and time of
tweet.</p>
</div>
<div class="cell code" data-execution_count="20" id="GTl5Z6kHwpIN">
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the date column to a datetime object</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Date&#39;</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">&#39;Date&#39;</span>], <span class="bu">format</span><span class="op">=</span><span class="st">&#39;</span><span class="sc">%d</span><span class="st">/%m/%Y %H:%M&#39;</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># define a function to extract the month from a datetime object</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_month(date):</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> date.strftime(<span class="st">&#39;%B&#39;</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># apply the function to each row of the date column to create a new month column</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Month_of_Tweet&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;Date&#39;</span>].<span class="bu">apply</span>(extract_month)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># define a function to extract the time of day from a datetime object</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_time_of_day(date):</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> date.strftime(<span class="st">&#39;%H:%M:%S&#39;</span>)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co"># apply the function to each row of the date column to create a new time_of_day column</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;time_of_day&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;Date&#39;</span>].<span class="bu">apply</span>(extract_time_of_day)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the day of the week from the date column and create a new column</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;day_of_week&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;Date&#39;</span>].dt.day_name()</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="21" id="nl8mzL8qzydP">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># categorize the time of day column into morning, noon, evening, night categories</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the &#39;time_of_day&#39; column to datetime type</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;time_of_day&#39;</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">&#39;time_of_day&#39;</span>])</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the hour component as an integer</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;hour&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;time_of_day&#39;</span>].dt.hour</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> categorize_time(hour):</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> hour <span class="op">&lt;</span> <span class="dv">6</span>:</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;night&#39;</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> hour <span class="op">&lt;</span> <span class="dv">12</span>:</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;morning&#39;</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> hour <span class="op">&lt;</span> <span class="dv">18</span>:</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;afternoon&#39;</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;evening&#39;</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;time_of_day&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;hour&#39;</span>].<span class="bu">apply</span>(categorize_time)</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>df.drop(<span class="st">&#39;hour&#39;</span>, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="22"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:354}"
id="_tVa6yUDxwBD" data-outputId="f4781bae-73b9-4c64-c47f-3679528d7b1d">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="22">

  <div id="df-91a4c851-2214-4bbb-9cae-de9f0907c7e5">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tweets</th>
      <th>Retweets</th>
      <th>Likes</th>
      <th>Date</th>
      <th>clean_tweet</th>
      <th>hashtags</th>
      <th>count</th>
      <th>tokenized_tweet</th>
      <th>Month_of_Tweet</th>
      <th>time_of_day</th>
      <th>day_of_week</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>@PeterSchiff ðŸ¤£ thanks</td>
      <td>209</td>
      <td>7021</td>
      <td>2022-10-27 16:17:00</td>
      <td>thanks</td>
      <td></td>
      <td>0.0</td>
      <td>[thanks]</td>
      <td>October</td>
      <td>afternoon</td>
      <td>Thursday</td>
    </tr>
    <tr>
      <th>1</th>
      <td>@ZubyMusic Absolutely</td>
      <td>755</td>
      <td>26737</td>
      <td>2022-10-27 13:19:00</td>
      <td>Absolutely</td>
      <td></td>
      <td>0.0</td>
      <td>[Absolutely]</td>
      <td>October</td>
      <td>afternoon</td>
      <td>Thursday</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Dear Twitter Advertisers https://t.co/GMwHmInPAS</td>
      <td>55927</td>
      <td>356623</td>
      <td>2022-10-27 13:08:00</td>
      <td>Dear Twitter Advertisers</td>
      <td></td>
      <td>0.0</td>
      <td>[Dear, Twitter, Advertisers]</td>
      <td>October</td>
      <td>afternoon</td>
      <td>Thursday</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Meeting a lot of cool people at Twitter today!</td>
      <td>9366</td>
      <td>195546</td>
      <td>2022-10-26 21:39:00</td>
      <td>Meeting a lot of cool people at Twitter today</td>
      <td></td>
      <td>0.0</td>
      <td>[Meeting, lot, cool, people, Twitter, today]</td>
      <td>October</td>
      <td>evening</td>
      <td>Wednesday</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Entering Twitter HQ â€“ let that sink in! https:...</td>
      <td>145520</td>
      <td>1043592</td>
      <td>2022-10-26 18:45:00</td>
      <td>Entering Twitter HQ â€“ let that sink in</td>
      <td></td>
      <td>0.0</td>
      <td>[Entering, Twitter, HQ, let, sink]</td>
      <td>October</td>
      <td>evening</td>
      <td>Wednesday</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-91a4c851-2214-4bbb-9cae-de9f0907c7e5')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-91a4c851-2214-4bbb-9cae-de9f0907c7e5 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-91a4c851-2214-4bbb-9cae-de9f0907c7e5');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="peEOPdqpvT-C">
<p>STATISTICAL VISUALISATION OF THE CLEANED DATASET</p>
</div>
<div class="cell markdown" id="KmtRXlnyuzzQ">
<p>Producing the frequency of tweets posted by Month</p>
</div>
<div class="cell code" data-execution_count="23"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="j4rjghxpvTRf" data-outputId="62cb3518-6c2c-47aa-fb92-4ce3b8f7dc0f">
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>tweet_freq <span class="op">=</span> df[<span class="st">&#39;Month_of_Tweet&#39;</span>].value_counts()</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tweet_freq)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>May          517
October      372
June         303
April        272
July         269
September    228
March        221
February     207
August       206
January       48
Name: Month_of_Tweet, dtype: int64
</code></pre>
</div>
</div>
<div class="cell markdown" id="_snJ1ySfvI4X">
<p>Plotting the tweet frequency by Month</p>
</div>
<div class="cell code" data-execution_count="24"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:631}"
id="8rnUQ6qk3rWj" data-outputId="c8bf7b0d-3393-4919-c74b-1f508af9b51c">
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">&#39;darkgrid&#39;</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.countplot(x<span class="op">=</span><span class="st">&#39;Month_of_Tweet&#39;</span>, data<span class="op">=</span>df)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Frequency of Tweets by Month&#39;</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month&#39;</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Tweets&#39;</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">&#39;p1.png&#39;</span>)</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/9ed15aca7ca2d47b80d37926ce6da6052e59ddf0.png" /></p>
</div>
<div class="output display_data">
<pre><code>&lt;Figure size 640x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<div class="cell markdown" id="Gne8NraSvMFT">
<p>Plotting the tweet frequency by day of the week.</p>
</div>
<div class="cell code" data-execution_count="25"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:617}"
id="l3En1Akt41Kj" data-outputId="73cd6cb4-773a-4216-8bb2-e3efa0ed8c39">
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">&#39;darkgrid&#39;</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.countplot(x<span class="op">=</span><span class="st">&#39;day_of_week&#39;</span>, data<span class="op">=</span>df)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Frequency of Tweets by Day of Week&#39;</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Day&#39;</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Tweets&#39;</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/9cd4c8fcd104fa6e00bb7f2ac231e7fe7d2f5e42.png" /></p>
</div>
</div>
<div class="cell markdown" id="iep4-826vQVP">
<p>Plotting the tweet frequency by time of day when tweet was
pposted.</p>
</div>
<div class="cell code" data-execution_count="26"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:608}"
id="OHnelMEH5trZ" data-outputId="8ba7edd8-5f2a-44e7-d122-662ee03e4aee">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">&#39;darkgrid&#39;</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.countplot(x<span class="op">=</span><span class="st">&#39;time_of_day&#39;</span>, data<span class="op">=</span>df)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Frequency of Tweets by Time of Day&#39;</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Time of Day&#39;</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Tweets&#39;</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/db57508e0646f5a5b1e637678c7fff2903fe9bed.png" /></p>
</div>
</div>
<div class="cell markdown" id="pMxClVMSvVsO">
<p>Faceting the frequency plots by time of day, and day of the week</p>
</div>
<div class="cell code" data-execution_count="27"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:373}"
id="D6q5lYOx6dTR" data-outputId="c1ea1d70-e5d6-47c6-841b-22cd478f4e07">
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.catplot(x<span class="op">=</span><span class="st">&#39;day_of_week&#39;</span>, kind<span class="op">=</span><span class="st">&#39;count&#39;</span>, data<span class="op">=</span>df, col<span class="op">=</span><span class="st">&#39;time_of_day&#39;</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">&#39;right&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="27">
<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7fb515c17880&gt;</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/2cb7a37d98cb88193ac0f703decda73142159160.png" /></p>
</div>
</div>
<div class="cell markdown" id="Ieb-v_Dlvgfh">
<p>Calculation average Likes received in tweets per month and plotting
the chart.</p>
</div>
<div class="cell code" data-execution_count="28"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:713}"
id="EUzeknT18sxu" data-outputId="214af407-1185-4757-e091-5afbafc5bf5b">
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>likes_by_month <span class="op">=</span> df.groupby(<span class="st">&#39;Month_of_Tweet&#39;</span>)[<span class="st">&#39;Likes&#39;</span>].mean().reset_index()</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(likes_by_month)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the mean likes by month using seaborn barplot</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">&#39;Month_of_Tweet&#39;</span>, y<span class="op">=</span><span class="st">&#39;Likes&#39;</span>, data<span class="op">=</span>likes_by_month)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># set the plot title and axis labels</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Likes by Month&#39;</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month&#39;</span>)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Likes&#39;</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co"># show the plot</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>  Month_of_Tweet          Likes
0          April  192929.444853
1         August   56861.150485
2       February   32318.376812
3        January   63714.812500
4           July   56230.509294
5           June   48654.933993
6          March   61659.719457
7            May   77390.558994
8        October   40308.766129
9      September   31424.232456
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/bc943aaf0a74e3192a0b68f134d0f52773b69b14.png" /></p>
</div>
</div>
<div class="cell markdown" id="6l1OBxxqvohj">
<p>Plotting average retweets by month</p>
</div>
<div class="cell code" data-execution_count="29"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:713}"
id="Xh5KHQv__lI7" data-outputId="3c3f79a3-458c-4944-e036-e4963d9f86f3">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>retweets_by_month <span class="op">=</span> df.groupby(<span class="st">&#39;Month_of_Tweet&#39;</span>)[<span class="st">&#39;Retweets&#39;</span>].mean().reset_index()</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(retweets_by_month)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the mean likes by month using seaborn barplot</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">&#39;Month_of_Tweet&#39;</span>, y<span class="op">=</span><span class="st">&#39;Retweets&#39;</span>, data<span class="op">=</span>retweets_by_month)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co"># set the plot title and axis labels</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Retweets by Month&#39;</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month&#39;</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Retweets&#39;</span>)</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co"># show the plot</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>  Month_of_Tweet      Retweets
0          April  17172.047794
1         August   4366.470874
2       February   3261.753623
3        January   8113.687500
4           July   3689.397770
5           June   3543.818482
6          March   5313.547511
7            May   6384.849130
8        October   3254.994624
9      September   2234.258772
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/22b6b8508b4c53f5a0fd522de58d605c3be5d354.png" /></p>
</div>
</div>
<div class="cell markdown" id="jbIeSPSbpOk4">
<p>FREQUENCY DISTRIBUTION OF WORDS</p>
</div>
<div class="cell markdown" id="AsBVYMbQwRGl">
<p>Finding the most frequently occuring words in the tweets.</p>
</div>
<div class="cell code" data-execution_count="30"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="TdqmQ0p5ojxT" data-outputId="962720c7-2d93-4e08-de06-bf8c12e6c0f2">
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create frequency distribution of words in tokenized_tweet column</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>freq_dist <span class="op">=</span> nltk.FreqDist(word <span class="cf">for</span> words <span class="kw">in</span> df[<span class="st">&#39;tokenized_tweet&#39;</span>] <span class="cf">for</span> word <span class="kw">in</span> words)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># print 10 most common words</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(freq_dist.most_common(<span class="dv">10</span>))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[(&#39;amp&#39;, 285), (&#39;Tesla&#39;, 150), (&#39;would&#39;, 98), (&#39;people&#39;, 95), (&#39;Twitter&#39;, 90), (&#39;Starlink&#39;, 83), (&#39;much&#39;, 78), (&#39;Yes&#39;, 76), (&#39;many&#39;, 69), (&#39;one&#39;, 65)]
</code></pre>
</div>
</div>
<div class="cell markdown" id="f56uwJ1-wVQu">
<p>Tabulating the frequently occuring words.</p>
</div>
<div class="cell code" data-execution_count="31"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="hsyyO1pMqyuX" data-outputId="e946dc1b-23b1-466f-f63c-92fff85843e7">
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>freq_dist.tabulate(<span class="dv">5</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>    amp   Tesla   would  people Twitter 
    285     150      98      95      90 
</code></pre>
</div>
</div>
<div class="cell markdown" id="gELIk6IXwYU0">
<p>Creating a word cloud for most frequently occuring tweets</p>
</div>
<div class="cell code" data-execution_count="32"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:836}"
id="o8QBVE97q4yZ" data-outputId="444f2f2e-3d91-416c-99c9-7525349c0da0">
<div class="sourceCode" id="cb42"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create a word cloud containing most poplar words in the tweet</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> wordcloud <span class="im">import</span> WordCloud</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate all the tweets into a single string</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">&#39; &#39;</span>.join(df[<span class="st">&#39;clean_tweet&#39;</span>])</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co"># create a WordCloud object</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>wordcloud <span class="op">=</span> WordCloud(width<span class="op">=</span><span class="dv">800</span>, height<span class="op">=</span><span class="dv">800</span>, background_color<span class="op">=</span><span class="st">&#39;white&#39;</span>, min_font_size<span class="op">=</span><span class="dv">10</span>).generate(text)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the word cloud</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>), facecolor<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>plt.imshow(wordcloud)</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">&quot;off&quot;</span>)</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>plt.tight_layout(pad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/6277fc3271048e99de5d358ee6b2608a49488971.png" /></p>
</div>
</div>
<div class="cell markdown" id="ZxbUB_4qMRAH">
<p><strong>COLLOCATION AND CONCORDANCE OF FREQUENTLY OCCURING
WORDS</strong></p>
</div>
<div class="cell markdown" id="x7eq4gWXwdFs">
<p>Finding the frequent collocations and concordance of frequently
occuring words in the tweets.</p>
</div>
<div class="cell code" data-execution_count="33"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:873}"
id="A9S6GRHxMWma" data-outputId="8bd309b1-25af-451b-9b6f-b6708b89e435">
<div class="sourceCode" id="cb43"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Finding Collocations in the cleaned tweets</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.collocations <span class="im">import</span> BigramAssocMeasures, BigramCollocationFinder</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate all tweets into one long string</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">&#39; &#39;</span>.join(df[<span class="st">&#39;clean_tweet&#39;</span>])</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenize the text and remove stopwords</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>tokens <span class="op">=</span> nltk.word_tokenize(text)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>stop_words <span class="op">=</span> <span class="bu">set</span>(stopwords.words(<span class="st">&#39;english&#39;</span>))</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>tokens <span class="op">=</span> [token.lower() <span class="cf">for</span> token <span class="kw">in</span> tokens <span class="cf">if</span> token.isalpha() <span class="kw">and</span> token.lower() <span class="kw">not</span> <span class="kw">in</span> stop_words]</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Find bigram collocations</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>finder <span class="op">=</span> BigramCollocationFinder.from_words(tokens)</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>measures <span class="op">=</span> BigramAssocMeasures()</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>collocations <span class="op">=</span> finder.nbest(measures.raw_freq, <span class="dv">10</span>)</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the collocations</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(collocations)</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the collocations into a string for generating the word cloud</span></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">&quot; &quot;</span>.join([<span class="st">&quot;_&quot;</span>.join(collocation) <span class="cf">for</span> collocation <span class="kw">in</span> collocations])</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a><span class="co"># create the word cloud</span></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>wordcloud <span class="op">=</span> WordCloud(width<span class="op">=</span><span class="dv">800</span>, height<span class="op">=</span><span class="dv">800</span>, background_color<span class="op">=</span><span class="st">&#39;white&#39;</span>).generate(text)</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the word cloud</span></span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>), facecolor<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>plt.imshow(wordcloud)</span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">&quot;off&quot;</span>)</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>plt.tight_layout(pad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[(&#39;next&#39;, &#39;month&#39;), (&#39;years&#39;, &#39;ago&#39;), (&#39;free&#39;, &#39;speech&#39;), (&#39;fsd&#39;, &#39;beta&#39;), (&#39;next&#39;, &#39;week&#39;), (&#39;ai&#39;, &#39;day&#39;), (&#39;good&#39;, &#39;thread&#39;), (&#39;sustainable&#39;, &#39;energy&#39;), (&#39;tesla&#39;, &#39;ai&#39;), (&#39;coming&#39;, &#39;soon&#39;)]
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/91c3a32ff2aa8bff22076a09249cbaefe443b54e.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="34"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="CwFQJZb6hRqJ" data-outputId="fd0ef653-cd97-4013-f0d4-68f13ec2f193">
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">##Find concordance of frequently occuring words and collocations</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.text <span class="im">import</span> Text</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create a Text object from the tokenized tweets</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> Text(df[<span class="st">&#39;tokenized_tweet&#39;</span>].<span class="bu">sum</span>())</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># use the concordance method to find occurrences of a word in the text</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>text.concordance(<span class="st">&#39;Tesla&#39;</span>) <span class="co">#replacing the word by &#39;Twitter&#39;,&#39;Amp&#39;,&#39;Starlink&#39; to find concordance.</span></span></code></pre></div>
<div class="output stream stdout">
<pre><code>Displaying 25 of 150 matches:
lexity otherwise possible Varies lot Tesla amp SpaceX good positions many compa
gful thrust Norway rocks case missed Tesla AI Day Satellite constellation capab
ve Excited announce start production Tesla Semi Truck deliveries Dec Tiny heliu
ssian majorities prefer Russia First Tesla consumer tax credit years amp ask on
us sickkk Would cool make game using Tesla Sim literally city amp neighborhood 
ce expedite costs amp relieve stress Tesla team Aiming steadier deliveries intr
eat team Beautiful Exactly Recording Tesla AI Day Join little giving brain Wego
I Day show immense depth amp breadth Tesla AI compute hardware amp robotics Yup
need race anything else Webcast link Tesla AI Day starts precisely California t
Day starts precisely California time Tesla team awesome honor work cgi hands Op
st coal shipment arrived Hawaii time Tesla Megapack batteries enable sustainabl
mely concerning ironic Henrik Fisker Tesla Karma need add lot batteries grid bu
 Looks awesome Maybe little electric Tesla boats retrofuturistic Victorian desi
r Still thing bigger Looks good roll Tesla owners cars probably right order mag
lation Please lmk happens Absolutely Tesla fleet Australia growing rapidly need
ng rapidly need ramp service general Tesla North America aiming hour service An
utting lot time personally advancing Tesla service make awesome Hopefully start
make awesome Hopefully starting felt Tesla owners right credit Tesla owners cha
rting felt Tesla owners right credit Tesla owners change appointments less hour
 reciprocal Lot people still realize Tesla makes uninterruptible power supplies
werwall possible end year Cool Order Tesla Powerwall battery blackout protectio
bit Hopefully week somewhat agonized Tesla amp SpaceX font design love fonts tb
avy traffic wanted emphasize awesome Tesla softwareAI team really deserves cred
 really deserves credit talent level Tesla incredible Note upgrade existing car
te upgrade existing car FSD mins via Tesla app wide release FSD Beta price FSD 
</code></pre>
</div>
</div>
<div class="cell markdown" id="C44xly6XfMme">
<p><strong>SENTIMENT ANALYSIS ON TOP 5 TWEETS WITH MOST
LIKES</strong></p>
</div>
<div class="cell markdown" id="L_RECAyKwuY3">
<p>Generating sentiment scores of the tweets.Subsetting the top 5 tweets
with most likes and analysing their sentiment scores.</p>
</div>
<div class="cell code" data-execution_count="35"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="yDLZHKSGFJmV" data-outputId="2faf2923-a500-408c-ab5b-2c321f6adf32">
<div class="sourceCode" id="cb47"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#subsetting the top 5 tweets with most number of likes</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># import the necessary libraries</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> textblob <span class="im">import</span> TextBlob</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># create a function to get the sentiment of each tweet</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_tweet_sentiment(tweet):</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create a TextBlob object of the tweet</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    blob <span class="op">=</span> TextBlob(tweet)</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># get the sentiment polarity (-1 to 1) and subjectivity (0 to 1) of the tweet</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    sentiment_polarity <span class="op">=</span> blob.sentiment.polarity</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    sentiment_subjectivity <span class="op">=</span> blob.sentiment.subjectivity</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># classify the sentiment based on polarity</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> sentiment_polarity <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;positive&#39;</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> sentiment_polarity <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;neutral&#39;</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&#39;negative&#39;</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a><span class="co"># apply the get_tweet_sentiment function to the &#39;clean_tweet&#39; column and create a new column for the sentiment</span></span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Sentiment_Score&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">apply</span>(get_tweet_sentiment)</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a><span class="co">#subset the top 5 tweets with most likes and tweets with their sentiment score</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>top5_tweets <span class="op">=</span> df.nlargest(<span class="dv">5</span>, <span class="st">&#39;Likes&#39;</span>)</span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top5_tweets[[<span class="st">&#39;clean_tweet&#39;</span>, <span class="st">&#39;Likes&#39;</span>, <span class="st">&#39;Sentiment_Score&#39;</span>]])</span></code></pre></div>
<div class="output stream stdout">
<pre><code>                                            clean_tweet    Likes  \
2219  Next Iâ€™m buying CocaCola to put the cocaine ba...  4780787   
2244  I hope that even my worst critics remain on Tw...  3232772   
2216                     Letâ€™s make Twitter maximum fun  2650644   
2243                                            Yesss    2608578   
2215                     Listen I canâ€™t do miracles ok   2581112   

     Sentiment_Score  
2219         neutral  
2244        negative  
2216        positive  
2243         neutral  
2215        positive  
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="36"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:493}"
id="eYyfc-INWhcz" data-outputId="f9472af9-846f-4757-fe15-fd76798d85dd">
<div class="sourceCode" id="cb49"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>top5_tweets.head(<span class="dv">5</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="36">

  <div id="df-553f13c2-874d-4c27-bb6e-48ca5e5daeec">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tweets</th>
      <th>Retweets</th>
      <th>Likes</th>
      <th>Date</th>
      <th>clean_tweet</th>
      <th>hashtags</th>
      <th>count</th>
      <th>tokenized_tweet</th>
      <th>Month_of_Tweet</th>
      <th>time_of_day</th>
      <th>day_of_week</th>
      <th>Sentiment_Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2219</th>
      <td>Next Iâ€™m buying Coca-Cola to put the cocaine b...</td>
      <td>681707</td>
      <td>4780787</td>
      <td>2022-04-28 00:56:00</td>
      <td>Next Iâ€™m buying CocaCola to put the cocaine ba...</td>
      <td></td>
      <td>0.0</td>
      <td>[Next, buying, CocaCola, put, cocaine, back]</td>
      <td>April</td>
      <td>night</td>
      <td>Thursday</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>2244</th>
      <td>I hope that even my worst critics remain on Tw...</td>
      <td>368279</td>
      <td>3232772</td>
      <td>2022-04-25 16:12:00</td>
      <td>I hope that even my worst critics remain on Tw...</td>
      <td></td>
      <td>0.0</td>
      <td>[hope, even, worst, critics, remain, Twitter, ...</td>
      <td>April</td>
      <td>afternoon</td>
      <td>Monday</td>
      <td>negative</td>
    </tr>
    <tr>
      <th>2216</th>
      <td>Letâ€™s make Twitter maximum fun!</td>
      <td>194742</td>
      <td>2650644</td>
      <td>2022-04-28 01:53:00</td>
      <td>Letâ€™s make Twitter maximum fun</td>
      <td></td>
      <td>0.0</td>
      <td>[Let, make, Twitter, maximum, fun]</td>
      <td>April</td>
      <td>night</td>
      <td>Thursday</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>2243</th>
      <td>ðŸš€ðŸ’«â™¥ï¸ Yesss!!! â™¥ï¸ðŸ’«ðŸš€ https://t.co/0T9HzUHuh6</td>
      <td>348158</td>
      <td>2608578</td>
      <td>2022-04-25 19:43:00</td>
      <td>Yesss</td>
      <td></td>
      <td>0.0</td>
      <td>[Yesss]</td>
      <td>April</td>
      <td>evening</td>
      <td>Monday</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>2215</th>
      <td>Listen, I canâ€™t do miracles ok https://t.co/z7...</td>
      <td>212854</td>
      <td>2581112</td>
      <td>2022-04-28 01:57:00</td>
      <td>Listen I canâ€™t do miracles ok</td>
      <td></td>
      <td>0.0</td>
      <td>[Listen, miracles, ok]</td>
      <td>April</td>
      <td>night</td>
      <td>Thursday</td>
      <td>positive</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-553f13c2-874d-4c27-bb6e-48ca5e5daeec')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-553f13c2-874d-4c27-bb6e-48ca5e5daeec button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-553f13c2-874d-4c27-bb6e-48ca5e5daeec');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="R31yMajP1Or8">
<p>Finding and Printing Collocations in the top 5 tweets.</p>
</div>
<div class="cell code" data-execution_count="37"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:873}"
id="gVn_GgBqygeV" data-outputId="3a8bd4f7-4dbb-4a59-93e4-1bed13f28b10">
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate all tweets into one long string</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">&#39; &#39;</span>.join(top5_tweets[<span class="st">&#39;clean_tweet&#39;</span>])</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenize the text and remove stopwords</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>tokens <span class="op">=</span> nltk.word_tokenize(text)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>stop_words <span class="op">=</span> <span class="bu">set</span>(stopwords.words(<span class="st">&#39;english&#39;</span>))</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>tokens <span class="op">=</span> [token.lower() <span class="cf">for</span> token <span class="kw">in</span> tokens <span class="cf">if</span> token.isalpha() <span class="kw">and</span> token.lower() <span class="kw">not</span> <span class="kw">in</span> stop_words]</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Find bigram collocations</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>finder <span class="op">=</span> BigramCollocationFinder.from_words(tokens)</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>measures <span class="op">=</span> BigramAssocMeasures()</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>collocations <span class="op">=</span> finder.nbest(measures.raw_freq, <span class="dv">10</span>)</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the collocations</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(collocations)</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="co"># convert the collocations into a string for generating the word cloud</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">&quot; &quot;</span>.join([<span class="st">&quot;_&quot;</span>.join(collocation) <span class="cf">for</span> collocation <span class="kw">in</span> collocations])</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="co"># create the word cloud</span></span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>wordcloud <span class="op">=</span> WordCloud(width<span class="op">=</span><span class="dv">800</span>, height<span class="op">=</span><span class="dv">800</span>, background_color<span class="op">=</span><span class="st">&#39;white&#39;</span>).generate(text)</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the word cloud</span></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>), facecolor<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>plt.imshow(wordcloud)</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">&quot;off&quot;</span>)</span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>plt.tight_layout(pad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[(&#39;back&#39;, &#39;hope&#39;), (&#39;buying&#39;, &#39;cocacola&#39;), (&#39;cocacola&#39;, &#39;put&#39;), (&#39;cocaine&#39;, &#39;back&#39;), (&#39;critics&#39;, &#39;remain&#39;), (&#39;even&#39;, &#39;worst&#39;), (&#39;free&#39;, &#39;speech&#39;), (&#39;fun&#39;, &#39;yesss&#39;), (&#39;hope&#39;, &#39;even&#39;), (&#39;let&#39;, &#39;make&#39;)]
</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_c1724f59a4be44f58b184fadd221d5b0/bb5ed4572cea8711e012d5a108bd2146159f02ea.png" /></p>
</div>
</div>
<div class="cell markdown" id="a5wIBUhkjB-y">
<p><strong>SENTIMENT ANALYSIS OF TWEETS CONTAINING 'TESLA', AND/OR
'AMP'</strong></p>
</div>
<div class="cell markdown" id="85J-qOui1eBw">
<p>Subsetting the tweets containing 'Tesla' and/or 'Amp' and analysing
their sentiment scores.</p>
</div>
<div class="cell code" data-execution_count="38"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="odT5o5qQjM4K" data-outputId="12749ed0-0fc1-411d-8969-6173e5cf3556">
<div class="sourceCode" id="cb52"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">#subsetting the dataset for tweets containing &#39;Tesla&#39;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>tesla_tweets <span class="op">=</span> df[df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">str</span>.contains(<span class="st">&#39;Tesla&#39;</span>,case<span class="op">=</span><span class="va">False</span>)]</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>sentiment_counts <span class="op">=</span> tesla_tweets[<span class="st">&#39;Sentiment_Score&#39;</span>].value_counts()</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Sentiment Count For tweets containing &quot;Tesla&quot;&#39;</span>)</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sentiment_counts)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Sentiment Count For tweets containing &quot;Tesla&quot;
positive    79
neutral     36
negative    29
Name: Sentiment_Score, dtype: int64
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="39"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="IvYHio6YnXY2" data-outputId="030b075a-cbf5-45b3-bcbe-73131a20ff33">
<div class="sourceCode" id="cb54"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#subsetting the dataset for tweets containing &#39;amp&#39;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>amp_tweets <span class="op">=</span> df[df[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">str</span>.contains(<span class="st">&#39;amp&#39;</span>,case<span class="op">=</span> <span class="va">False</span>)]</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>sentiment_counts <span class="op">=</span> amp_tweets[<span class="st">&#39;Sentiment_Score&#39;</span>].value_counts()</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Sentiment Count For tweets containing &quot;Starlink&quot;&#39;</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sentiment_counts)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Sentiment Count For tweets containing &quot;Starlink&quot;
positive    148
negative     64
neutral      43
Name: Sentiment_Score, dtype: int64
</code></pre>
</div>
</div>
<div class="cell markdown" id="Lpe6AUFapaXJ">
<p><strong>TOPIC MODELLING FOR ELON MUSK'S TWEETS</strong></p>
</div>
<div class="cell markdown" id="XINSa0D519A-">
<p>Extracting the most frequently occuring topoics in the top 500 tweets
in the dataset.</p>
</div>
<div class="cell code" data-execution_count="40"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="1PJkatj0pfWB" data-outputId="4ad3504b-7718-4ed5-e266-ead70237fa9b">
<div class="sourceCode" id="cb56"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gensim</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> gensim <span class="im">import</span> corpora</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create a list of tokenized tweets considering only top 500 tweets based on likes</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>tweets <span class="op">=</span> df.nlargest(<span class="dv">500</span>, <span class="st">&#39;Likes&#39;</span>)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>tweets <span class="op">=</span> tweets[<span class="st">&#39;clean_tweet&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.split())</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="co"># create dictionary</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>dictionary <span class="op">=</span> corpora.Dictionary(tweets)</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="co"># create document term matrix</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>doc_term_matrix <span class="op">=</span> [dictionary.doc2bow(tweet) <span class="cf">for</span> tweet <span class="kw">in</span> tweets]</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="co"># build LDA model</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>lda_model <span class="op">=</span> gensim.models.ldamodel.LdaModel(doc_term_matrix, num_topics<span class="op">=</span><span class="dv">5</span>, id2word<span class="op">=</span>dictionary, passes<span class="op">=</span><span class="dv">50</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a><span class="co"># print topics and their top words</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> topic <span class="kw">in</span> lda_model.show_topics(num_topics<span class="op">=</span><span class="dv">5</span>, formatted<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;Topic </span><span class="sc">{}</span><span class="st">: </span><span class="sc">{}</span><span class="st">&#39;</span>.<span class="bu">format</span>(topic[<span class="dv">0</span>], [w[<span class="dv">0</span>] <span class="cf">for</span> w <span class="kw">in</span> topic[<span class="dv">1</span>]]))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Topic 0: [&#39;is&#39;, &#39;the&#39;, &#39;of&#39;, &#39;a&#39;, &#39;on&#39;, &#39;this&#39;, &#39;â€¦&#39;, &#39;The&#39;, &#39;Twitter&#39;, &#39;in&#39;]
Topic 1: [&#39;to&#39;, &#39;for&#39;, &#39;of&#39;, &#39;amp&#39;, &#39;Tesla&#39;, &#39;in&#39;, &#39;are&#39;, &#39;is&#39;, &#39;a&#39;, &#39;as&#39;]
Topic 2: [&#39;the&#39;, &#39;a&#39;, &#39;is&#39;, &#39;I&#39;, &#39;to&#39;, &#39;that&#39;, &#39;in&#39;, &#39;of&#39;, &#39;be&#39;, &#39;Twitter&#39;]
Topic 3: [&#39;to&#39;, &#39;is&#39;, &#39;the&#39;, &#39;I&#39;, &#39;a&#39;, &#39;of&#39;, &#39;amp&#39;, &#39;you&#39;, &#39;for&#39;, &#39;in&#39;]
Topic 4: [&#39;the&#39;, &#39;of&#39;, &#39;to&#39;, &#39;is&#39;, &#39;I&#39;, &#39;a&#39;, &#39;will&#39;, &#39;but&#39;, &#39;my&#39;, &#39;be&#39;]
</code></pre>
</div>
</div>
<div class="cell markdown" id="pIJeR-dXh815">
<p><strong>MACHINE LEARNING ALGORITHM FOR PREDICTING LIKES OF
TWEETS</strong></p>
<p>LINEAR REGRESSION MODEL</p>
</div>
<div class="cell code" data-execution_count="41" id="uVePII9om7LI">
<div class="sourceCode" id="cb58"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">#factorize categorical variables in the dataset</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Sentiment_Score&#39;</span>] <span class="op">=</span> pd.factorize(df[<span class="st">&#39;Sentiment_Score&#39;</span>])[<span class="dv">0</span>]</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Month_of_Tweet&#39;</span>] <span class="op">=</span> pd.factorize(df[<span class="st">&#39;Month_of_Tweet&#39;</span>])[<span class="dv">0</span>]</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;day_of_week&#39;</span>] <span class="op">=</span> pd.factorize(df[<span class="st">&#39;day_of_week&#39;</span>])[<span class="dv">0</span>]</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;time_of_day&#39;</span>] <span class="op">=</span> pd.factorize(df[<span class="st">&#39;time_of_day&#39;</span>])[<span class="dv">0</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="42"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="UnVPeF0ih-Zs" data-outputId="aac5b7b7-73a8-4d9e-9958-328c79b48e1c">
<div class="sourceCode" id="cb59"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#import relevant libraries</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_squared_error</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co"># select the features to use for prediction</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df[[<span class="st">&#39;Retweets&#39;</span>,<span class="st">&#39;Month_of_Tweet&#39;</span>,<span class="st">&#39;day_of_week&#39;</span>]]</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df[<span class="st">&#39;Likes&#39;</span>]</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co"># split the data into training and testing sets</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co"># create a linear regression model</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>lr_model <span class="op">=</span> LinearRegression()</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="co"># fit the model on the training data</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>lr_model.fit(X_train, y_train)</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a><span class="co"># make predictions on the test data</span></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> lr_model.predict(X_test)</span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the mean squared error</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>mse <span class="op">=</span> mean_squared_error(y_test, y_pred)</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Linear Regression Model:&#39;</span>)</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Mean Squared Error:&#39;</span>, mse)</span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate root mean squared error</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(y_test, y_pred, squared <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Root Mean Squared Error:&#39;</span>, rmse)</span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a><span class="co"># R2 score</span></span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> r2_score</span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;R-squared score:&#39;</span>, r2_score(y_test, y_pred))</span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Coefficients</span></span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Coefficients:&#39;</span>, lr_model.coef_)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Linear Regression Model:
Mean Squared Error: 2165938939.4296894
Root Mean Squared Error: 46539.649111587525
R-squared score: 0.8632236751401086
Coefficients: [   8.48277829  817.01269449 -520.31358667]
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="43"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="HI0f5wmx0zAr" data-outputId="146a4683-3ad9-46f2-f146-5b805c83f213">
<div class="sourceCode" id="cb61"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_selection <span class="im">import</span> f_regression</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the F-statistic and p-values</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>f_vals, p_vals <span class="op">=</span> f_regression(X_train, y_train)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the F-statistic and p-values for each feature</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(X.columns)):</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;Feature:&#39;</span>, X.columns[i])</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;F-Statistic:&#39;</span>, f_vals[i])</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;p-value:&#39;</span>, p_vals[i])</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;-----------------------------------&#39;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Feature: Retweets
F-Statistic: 22548.10471509648
p-value: 0.0
-----------------------------------
Feature: Month_of_Tweet
F-Statistic: 17.567105923636575
p-value: 2.8877565566182172e-05
-----------------------------------
Feature: day_of_week
F-Statistic: 4.212706342682294
p-value: 0.040245267479427686
-----------------------------------
</code></pre>
</div>
</div>
<div class="cell markdown" id="3goztd6h1YEx">
<p>Sentiment Score and time_of_day have high p-value, thus have been
removed from the model analysis BUT the performance of the model was not
affected by their absence and remained relatively same.</p>
</div>
<div class="cell markdown" id="G2RoghOL2ZJ-">
<p>RANDOM FOREST ALGORITHM</p>
</div>
<div class="cell code" data-execution_count="44"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="QjtJbYMn1mDT" data-outputId="a08e1856-693c-446a-94c7-2ea8f957615f">
<div class="sourceCode" id="cb63"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="co"># select the features to use for prediction</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df[[<span class="st">&#39;Retweets&#39;</span>,<span class="st">&#39;Month_of_Tweet&#39;</span>,<span class="st">&#39;day_of_week&#39;</span>]]</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df[<span class="st">&#39;Likes&#39;</span>]</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="co"># split the data into training and testing sets</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Random Forest model with default hyperparameters</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>rf_model <span class="op">=</span> RandomForestRegressor()</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model to the training data</span></span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>rf_model.fit(X_train, y_train)</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Make predictions on the testing data</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> rf_model.predict(X_test)</span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the RMSE and R2 score</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(y_test, y_pred, squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>r2 <span class="op">=</span> r2_score(y_test, y_pred)</span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Random Forest Model:&#39;</span>)</span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Mean Squared Error:&#39;</span>, mse)</span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;R-squared Score:&#39;</span>, r2)</span>
<span id="cb63-27"><a href="#cb63-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Root Mean Squared Error:&#39;</span>, rmse)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Random Forest Model:
Mean Squared Error: 2165938939.4296894
R-squared Score: 0.8865813754391483
Root Mean Squared Error: 42379.890241117486
</code></pre>
</div>
</div>
<div class="cell markdown" id="-e6teMcpDnMs">
<p>KNN ALGORITHM</p>
</div>
<div class="cell code" data-execution_count="45"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="LSeWzedvDpTi" data-outputId="ffd635b9-1432-4d38-887c-c8a84d000386">
<div class="sourceCode" id="cb65"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.neighbors <span class="im">import</span> KNeighborsRegressor</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co"># select the features to use for prediction</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df[[<span class="st">&#39;Retweets&#39;</span>,<span class="st">&#39;Month_of_Tweet&#39;</span>,<span class="st">&#39;day_of_week&#39;</span>]]</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> df[<span class="st">&#39;Likes&#39;</span>]</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="co"># split the data into training and testing sets</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the KNN model with default hyperparameters</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>knn_model <span class="op">=</span> KNeighborsRegressor()</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model to the training data</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>knn_model.fit(X_train, y_train)</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Make predictions on the testing data</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> knn_model.predict(X_test)</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the RMSE and R2 score</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(y_test, y_pred, squared<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>r2 <span class="op">=</span> r2_score(y_test, y_pred)</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;KNN Regression Model:&#39;</span>)</span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Mean Squared Error:&#39;</span>, mse)</span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;R-squared Score:&#39;</span>, r2)</span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Root Mean Squared Error:&#39;</span>, rmse)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>KNN Regression Model:
Mean Squared Error: 2165938939.4296894
R-squared Score: 0.8785729037659875
Root Mean Squared Error: 43850.59032197438
</code></pre>
</div>
</div>
</body>
</html>
